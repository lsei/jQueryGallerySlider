jQuery.fn.galSlider=function(){galname=$(this).selector;var e=galname+" ";var t=$(e+"img");var n=t.length;var r=$(e).width();var i=$(e).height();var s=r/i;var o=r*n;$(e+"img").wrap('<div class="img-holder" />');$(e+"img").each(function(){var e=$(this).width();var t=$(this).height();var n=e/t;if(n>=s){$(this).width(r);$(this).height(r/n)}else{$(this).height(i);$(this).width(i*n)}if(n>1){var o=$(this).height();var u=(i-o)/2;$(this).css("margin-top",u)}});$(e).wrapInner('<div class="gal-slider" />');$(e).wrapInner('<div class="gal-holder" />');var u={overflow:"hidden",position:"relative",width:"100%",height:"100%"};var a={width:o,height:i,position:"absolute",top:0,left:0};var f={width:r,height:i,display:"inline-block","text-align":"center"};$(".gal-holder").css(u);$(".gal-slider").css(a);$(".img-holder").css(f);var l=0;$(".gal-slider").before('<div class="prev-arrow gal-prev gal-nav" />');$(".gal-slider").before('<div class="next-arrow gal-next gal-nav" />');$(".gal-next").click(function(){if(l!=n-1){$(".gal-slider").animate({left:r*(l+1)*(0-1)},500);l+=1}});$(".gal-prev").click(function(e){if(l!=0){$(".gal-slider").animate({left:r*(l-1)*(0-1)},500);l-=1}});$(e).hover(function(){$(".gal-nav").fadeIn(500)},function(){$(".gal-nav").fadeOut(500)});$(".gs-thumb").click(function(){goto=$(this).attr("gotoImg");$(".gal-slider").animate({left:r*goto*(0-1)},500);l=goto})};